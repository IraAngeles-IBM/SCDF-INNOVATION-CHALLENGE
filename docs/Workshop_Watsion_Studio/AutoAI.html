
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>b) Auto AI · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Jupyter_Notebook_Credit_Card_approval_model.html" />
    
    
    <link rel="prev" href="Data_Preparation_using_Data_Refinery.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">SCDF INNOVATION CHALLENGE WITH IBM CALL FOR CODE</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Welcome to SCDF Innovation Challenge
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <a target="_blank" href="https://ibmcloud.gitbook.io/signup/">
            
                    
                    IBM Cloud Sign-up
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <a target="_blank" href="https://ibm.biz/cloud-login-aseandeg">
            
                    
                    IBM Cloud Login
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Introduction to AI (Chatbot)</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../Solution-Starter-Kit-Communication-2020-ASEAN/ASSISTANT.html">
            
                <a href="../Solution-Starter-Kit-Communication-2020-ASEAN/ASSISTANT.html">
            
                    
                    a) Create a crisis communication chatbot and connect it to news and data sources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../Solution-Starter-Kit-Communication-2020-ASEAN/starter-kit/node-red/Node-RED-chatbot.html">
            
                <a href="../Solution-Starter-Kit-Communication-2020-ASEAN/starter-kit/node-red/Node-RED-chatbot.html">
            
                    
                    b) Create a voice-enabled COVID-19 chatbot using Node-RED
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Introduction to Data Science</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="Introduction.html">
            
                <a href="Introduction.html">
            
                    
                    Provisioning IBM Watson Studio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="Data_Preparation_using_Data_Refinery.html">
            
                <a href="Data_Preparation_using_Data_Refinery.html">
            
                    
                    a) Data Preparation using Data Refinery
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="3.3" data-path="AutoAI.html">
            
                <a href="AutoAI.html">
            
                    
                    b) Auto AI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="Jupyter_Notebook_Credit_Card_approval_model.html">
            
                <a href="Jupyter_Notebook_Credit_Card_approval_model.html">
            
                    
                       Jupyter Notebook - Credit Card Approval Model
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Introduction to Visual Recognition</li>
        
        
    
        <li class="chapter " data-level="4.1" >
            
                <a target="_blank" href="https://cloud.annotations.ai/workshops/classification/index.html">
            
                    
                    a) Image Classification Lab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" >
            
                <a target="_blank" href="https://cloud.annotations.ai/workshops/object-detection/index.html">
            
                    
                    b) Object Detection Lab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" >
            
                <a target="_blank" href="https://www.geeksforgeeks.org/object-detection-vs-object-recognition-vs-image-segmentation/">
            
                    
                    Different Types of Visual Recognition
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">For more Advanced Users</li>
        
        
    
        <li class="chapter " data-level="5.1" >
            
                <a target="_blank" href="https://developer.ibm.com/technologies/iot/tutorials/iot-mobile-phone-iot-device-bluemix-apps-trs/">
            
                    
                    1. Setting up your first IoT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" >
            
                <a target="_blank" href="https://developer.ibm.com/tutorials/provision-a-couchdb-instance-using-cloudant-cfc-starter-kit-2/">
            
                    
                    2. Creating an App with CloudantDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" >
            
                <a target="_blank" href="https://developer.ibm.com/exchanges/models/">
            
                    
                    3. Model Asset eXchange (MAX)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4" >
            
                <a target="_blank" href="https://developer.ibm.com/technologies/paas/">
            
                    
                    4. Cloud Foundry on IBM Cloud
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" >
            
                <a target="_blank" href="https://cognitiveclass.ai">
            
                    
                    5. Earn Digital Badges
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6" >
            
                <a target="_blank" href="https://developer.ibm.com/patterns/">
            
                    
                    6. IBM Code Pattern Repository
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7" >
            
                <a target="_blank" href="https://developer.ibm.com/technologies/artificial-intelligence/articles/introduction-watson-assistant">
            
                    
                    7. Introduction to Watson Assistant
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.8" >
            
                <a target="_blank" href="https://developer.ibm.com/articles/introduction-watson-discovery/">
            
                    
                    8. Introduction to Watson Discovery
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.9" >
            
                <a target="_blank" href="https://developer.ibm.com/gettingstarted/node-red/">
            
                    
                    9. Get started with Node-RED
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.10" >
            
                <a target="_blank" href="https://developer.ibm.com/tutorials/create-a-voice-enabled-covid-19-chatbot-using-node-red/">
            
                    
                    10. SMS Enabled Chatbot using Twilio and The Weather Company API
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">IBM Developer - ASEAN</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../team.html">
            
                <a href="../team.html">
            
                    
                    Team
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >b) Auto AI</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="chapter-3-autoai">Chapter 3 AutoAI</h1>
<h2 id="31-introduction-to-autoai">3.1 Introduction to AutoAI</h2>
<p>Building predictive models require time, effort and good knowledge of algorithms to create effective systems which can predict the outcome accurately. With that being said, IBM has introduced Auto AI which will automate all the tasks involved in building predictive models for different requirements. We will get to see how Auto AI can churn out great models quickly which will save time and effort and aid in faster decision making.</p>
<p>The AutoAI process follows this sequence to build candidate pipelines:</p>
<ul>
<li>Data pre-processing</li>
<li>Automated model selection</li>
<li>Automated feature engineering</li>
<li>Hyperparameter optimization</li>
</ul>
<p>In this lab, we will use AutoAI to build a model to predict fraud.</p>
<h2 id="32-prerequisites">3.2 Prerequisites</h2>
<ol>
<li><p>Project</p>
<ul>
<li>You should have a working project (We named it Watson Studio Workshop as an example) created in Watson Studio. If you don&#x2019;t have one, read how to create an new project from the introduction page.</li>
</ul>
</li>
<li><p>Data</p>
<ul>
<li>Download sample data <strong>insurance_claims.csv</strong> for this lab <a href="https://github.com/zacaintmyname/CFCImages/tree/master/WatsonStudioWorkshop/3-%20Insurance%20Fraud%20Detection%20using%20AutoAI" target="_blank">here</a> or if you have the
WatsonStudioWorkshop.zip file provided by the instructor, the data will be reside in <strong>WatsonStudioWorkshop/03-Insurance Fraud Detection using AutoAI</strong>.</li>
</ul>
</li>
<li><p>Watson Machine Learning Service</p>
<ul>
<li>You should have a Watson Machine Learning service provisioned on IBM Cloud and assoicated with the
current project. If you don&#x2019;t have one, read how to add a new WML service in the Lab 2 <a href="https://dataplatform.cloud.ibm.com/docs/content/DO/WML_Deployment/WMLServiceInstance.html" target="_blank">here</a>.</li>
</ul>
</li>
</ol>
<p>Now you should be ready to start the lab!</p>
<h2 id="33-add-asset-as-auto-ai">3.3 Add Asset as Auto AI</h2>
<ol>
<li><p>Click on <strong>Add to project</strong> and select AutoAI experiment.
<img src="Images/40.png" alt="Add to project"></p>
<blockquote>
<p>Note: The Lite account for AutoAI comes with 50 capacity units per month and AutoAI consumes 20 capacity units per hour.</p>
</blockquote>
</li>
<li><p>Give a name to the experiment. If you have a Watson Machine Learning Service Instance associated with this project, it will automatically show up. The <strong>Create</strong> button at the bottom right gets highlighted, go ahead and hit Create.</p>
</li>
</ol>
<p>Create Experiment
<img src="Images/41.png" alt="Create Experiment"></p>
<p>Note: If you dont have one, click on <strong>Associate a Machine Learning service instance</strong> to this project and select the Machine Learning service instance and hit reload. If you do not have Machine Learning service instance, then follow the steps on your screen to get one.</p>
<h2 id="34-import-data">3.4 Import data</h2>
<ol>
<li>We need to import the csv file into the experiment. Note that, only csv file format is supported in AutoAI. Click on <strong>Browse</strong> or <strong>Select from project</strong> to choose the <em>insurance_claims.csv</em> file to import.</li>
</ol>
<p>Adding CSV file
<img src="Images/42.png" alt="Adding CSV file"></p>
<h2 id="35-configure-autoai-experiment">3.5 Configure AutoAI experiment</h2>
<ol>
<li>We have to select the target variable, in this case it is <strong>fraud_reported</strong>. Notice that <strong>Prediction Type</strong> and <strong>Optimized Metric</strong> get highlighted which tells us that we are working on <strong>Binary Classification</strong> use case and the evaluation metric is <strong>ROC</strong> (Receiver Operating Characteristics) &amp; <strong>AUC</strong> (Area Under The Curve) which is used for classification usecases.</li>
</ol>
<p>Configure Experiment
<img src="Images/43.png" alt="Configure Experiment"></p>
<ol>
<li>We can click on experiment settings for more customized configurations such as the training vs. holdout data split ratio, input columns etc. Save settings. Then click <strong>Run experiment</strong>.</li>
</ol>
<p>Experiment Setting
<img src="Images/44.png" alt="Experiment Setting"></p>
<h2 id="36-analyze-results">3.6 Analyze results</h2>
<ol>
<li>The AutoAI experiment will generate four pipelines. which will be ranked based on the evaluation metrics. AutoAI selects the appropriate machine learning algorithm which is best suited for the dataset.<blockquote>
<p> The duration of experiment depends completly on the size of the dataset. </p>
</blockquote>
</li>
</ol>
<p>Each pipeline is run with different parameters, pipeline 3 is run on a sequence of HPO (hyper parameters optimization) &amp; FE (feature engineering) where as pipeline 4 includes HPO (hyper parameters optimization), FE (feature engineering) and a combination of both. All these are done on the fly! Isn&#x2019;t it amazing that we just have to sit and watch while AutoAI takes care of things for us and generates awesome machine learning models!! There&#x2019;s very minimal intervention required to get things going and in no time we have the generated pipelines to choose from.</p>
<p>Relationship Map
<img src="Images/45.png" alt="Relationship Map"></p>
<ol>
<li>Click on <strong>Pipeline 4</strong> (which is ranked 1) to check model details.</li>
</ol>
<p>Model Evaluation
<img src="Images/46.png" alt="Model Evaluation"></p>
<p>The model evaluation tab shows the performance of the model on the hold out sample and cross validation score. We can observe that our model has done very well by scoring &gt; 95% on Recall, average Precision scores &amp; Area under the curve scores. These scores also mean that our model is able to remember and identify fraudulent claims with great precision.</p>
<ol>
<li>Click on the <strong>Model Information</strong> tab, we can observe that XGB Classifier has been used with total features of 22 where as the original dataset had 10 variables which means 12 new features have been created by AutoAI which is one of the reasons for high accuracy of the model. Check feature transformations to understand the transformation of original features to new features. <strong>Feature engineering</strong> is one of the important phases in the model building process which has a direct impact on the overall accuracy of the model.</li>
</ol>
<p>Model Information
<img src="Images/47.png" alt="Model Information"></p>
<ol>
<li>Click on <strong>feature importance</strong> to identify the significant features influencing the outcome. Any variable which starts with Newfeature is a variable generated on the fly by the model as part of feature engineering.</li>
</ol>
<p>Feature Importance
<img src="Images/48.png" alt="Feature Importance"></p>
<h2 id="37-save-model">3.7 Save Model</h2>
<ol>
<li>After all the analysis of model performance, it&#x2019;s time to select the model for deployment. We will go ahead and select pipeline 4 which is Rank 1 and click on <strong>Save as model</strong>. We can select any of the pipelines to be saved which has highest Accuracy or any other evaluation metrics.</li>
</ol>
<p>Save Model
<img src="Images/49.png" alt="Save Model"></p>
<blockquote>
<p>Note: You can also save the model as a Notebook, which will generate all the python code of the model.</p>
</blockquote>
<ol>
<li>The saved model can be found under <strong>Models</strong> under the project in Watson Studio. Click on three dots on the right side below <strong>Actions</strong> and hit <strong>Deploy</strong>.</li>
</ol>
<p>Deploy Model
<img src="Images/50.png" alt="Deploy Model"></p>
<h2 id="38-deploy-model">3.8 Deploy Model</h2>
<ol>
<li>Click on <strong>Add Deployment</strong> on the right side above <strong>Actions</strong>.</li>
</ol>
<p>Add Deployment
<img src="Images/51.png" alt="Add Deployment"></p>
<ol>
<li>Define the deployment by giving a name and hit <strong>Save</strong>. Note that, the model will get deployed as web service as a ReST API. The deployment should be ready soon. Wait until the deployment status is <em>DEPLOY_SUCCESS</em>. Fresh the page if needed.</li>
</ol>
<p>Define Deployment Details
<img src="Images/52.png" alt="Define Deployment Details"></p>
<h2 id="39-test-deployment-endpoint">3.9 Test Deployment Endpoint</h2>
<p>Now, the model is deployed and can be used for prediction. However, before using it in a production environment it might be worthwhile to test it using real data. You can do this interactively or programmatically using the API for the IBM Machine Learning Service. For now, we test it interactively.</p>
<p>The UI provides two options for testing the prediction: by entering the values one by one in distinct fields (one for each feature) or by specifying the feature values using a JSON object. We usually use the second option because it is the most convenient one when tests are performed more than once (which is usually the case), and when a large set of feature values is needed.</p>
<p>Predict with distinct fields
<img src="Images/53.png" alt="Predict with distinct fields"></p>
<p>Example JSON format</p>
<pre><code class="lang-Javascript">{<span class="hljs-string">&quot;input_data&quot;</span>:[{
  <span class="hljs-string">&quot;fields&quot;</span>:[<span class="hljs-string">&quot;months_as_customer&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>,<span class="hljs-string">&quot;incident_severity&quot;</span>,<span class="hljs-string">&quot;insured_hobbies&quot;</span>,<span class="hljs-string">&quot;police_report_available&quot;</span>,<span class="hljs-string">&quot;capital-loss&quot;</span>,<span class="hljs-string">&quot;vehicle_claim&quot;</span>,<span class="hljs-string">&quot;auto_year&quot;</span>,<span class="hljs-string">&quot;policy_annual_premium&quot;</span>,<span class="hljs-string">&quot;authorities_contacted&quot;</span>],
  <span class="hljs-string">&quot;values&quot;</span>:[[<span class="hljs-number">328</span>,<span class="hljs-number">48</span>,<span class="hljs-string">&quot;Major Damage&quot;</span>,<span class="hljs-string">&quot;sleeping&quot;</span>,<span class="hljs-string">&quot;YES&quot;</span>,<span class="hljs-number">0</span>,<span class="hljs-number">52080</span>,<span class="hljs-number">2004</span>,<span class="hljs-number">1406.91</span>,<span class="hljs-string">&quot;Police&quot;</span>]]
  }]}
</code></pre>
<p><strong>In this exercise, you have created a fraud detection model using AutoAI. Go ahead and give it a try on different datasets as per your requirement and realize the ease of creating and deploying models quickly using AutoAI.</strong></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Data_Preparation_using_Data_Refinery.html" class="navigation navigation-prev " aria-label="Previous page: a) Data Preparation using Data Refinery">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Jupyter_Notebook_Credit_Card_approval_model.html" class="navigation navigation-next " aria-label="Next page:    Jupyter Notebook - Credit Card Approval Model">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"b) Auto AI","level":"3.3","depth":1,"next":{"title":"   Jupyter Notebook - Credit Card Approval Model","level":"3.4","depth":1,"path":"Workshop_Watsion_Studio/Jupyter_Notebook_Credit_Card_approval_model.md","ref":"Workshop_Watsion_Studio/Jupyter_Notebook_Credit_Card_approval_model.md","articles":[]},"previous":{"title":"a) Data Preparation using Data Refinery","level":"3.2","depth":1,"path":"Workshop_Watsion_Studio/Data_Preparation_using_Data_Refinery.md","ref":"Workshop_Watsion_Studio/Data_Preparation_using_Data_Refinery.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Workshop_Watsion_Studio/AutoAI.md","mtime":"2020-05-20T09:21:48.576Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-05-21T07:07:30.260Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

